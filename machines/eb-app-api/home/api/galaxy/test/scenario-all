#!/bin/bash
set -e

# ------------------------------------------------------------------------------
# environment
# ------------------------------------------------------------------------------
BASEDIR=$(dirname $0)
source $BASEDIR/scripts/common

# ------------------------------------------------------------------------------
# kratos
# ------------------------------------------------------------------------------
for i in $(seq 1 10); do
    bash $BASEDIR/scripts/kratos/registration $i
    bash $BASEDIR/scripts/kratos/login $i
done

# ------------------------------------------------------------------------------
# adm
# ------------------------------------------------------------------------------
bash $BASEDIR/scripts/adm/hello

# ------------------------------------------------------------------------------
# pri
# ------------------------------------------------------------------------------
SET1=1
SET2=2

bash $BASEDIR/scripts/pri/hello $SET1

# profile
bash $BASEDIR/scripts/pri/profile/add-invalid-post $SET1
bash $BASEDIR/scripts/pri/profile/add-new $SET1
bash $BASEDIR/scripts/pri/profile/get-exist $SET1
bash $BASEDIR/scripts/pri/profile/get-nonexist $SET1
bash $BASEDIR/scripts/pri/profile/get-default $SET1
bash $BASEDIR/scripts/pri/profile/add-exist $SET1

bash $BASEDIR/scripts/pri/profile/update-exist $SET1
bash $BASEDIR/scripts/pri/profile/update-nonexist $SET1
bash $BASEDIR/scripts/pri/profile/update-invalid-post $SET1
bash $BASEDIR/scripts/pri/profile/del-exist $SET1
bash $BASEDIR/scripts/pri/profile/del-nonexist $SET1

bash $BASEDIR/scripts/pri/profile/add-new $SET1 10
bash $BASEDIR/scripts/pri/profile/set-default-exist $SET1
bash $BASEDIR/scripts/pri/profile/set-default-nonexist $SET1
bash $BASEDIR/scripts/pri/profile/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/profile/list-limit $SET1
bash $BASEDIR/scripts/pri/profile/list-limit-offset $SET1
bash $BASEDIR/scripts/pri/profile/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/profile/list-invalid-post $SET1

bash $BASEDIR/scripts/pri/profile/add-new $SET2

# domain
bash $BASEDIR/scripts/pri/domain/add-invalid-post $SET1
bash $BASEDIR/scripts/pri/domain/add-new $SET1
bash $BASEDIR/scripts/pri/domain/get-exist $SET1
bash $BASEDIR/scripts/pri/domain/get-nonexist $SET1
bash $BASEDIR/scripts/pri/domain/add-exist $SET1

bash $BASEDIR/scripts/pri/domain/update-exist $SET1
bash $BASEDIR/scripts/pri/domain/update-nonexist $SET1
bash $BASEDIR/scripts/pri/domain/update-invalid-post $SET1
bash $BASEDIR/scripts/pri/domain/disable-exist $SET1
bash $BASEDIR/scripts/pri/domain/disable-nonexist $SET1
bash $BASEDIR/scripts/pri/domain/enable-exist $SET1
bash $BASEDIR/scripts/pri/domain/enable-nonexist $SET1
bash $BASEDIR/scripts/pri/domain/del-exist $SET1
bash $BASEDIR/scripts/pri/domain/del-nonexist $SET1

bash $BASEDIR/scripts/pri/domain/add-new $SET1 10
bash $BASEDIR/scripts/pri/domain/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/domain/list-limit $SET1
bash $BASEDIR/scripts/pri/domain/list-limit-offset $SET1
bash $BASEDIR/scripts/pri/domain/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/domain/list-invalid-post $SET1

# room
bash $BASEDIR/scripts/pri/room/add-invalid-post $SET1
bash $BASEDIR/scripts/pri/room/add-new $SET1
bash $BASEDIR/scripts/pri/room/get-exist $SET1
bash $BASEDIR/scripts/pri/room/get-nonexist $SET1
bash $BASEDIR/scripts/pri/room/add-exist $SET1

bash $BASEDIR/scripts/pri/room/update-exist $SET1
bash $BASEDIR/scripts/pri/room/update-nonexist $SET1
bash $BASEDIR/scripts/pri/room/update-invalid-post $SET1
bash $BASEDIR/scripts/pri/room/disable-exist $SET1
bash $BASEDIR/scripts/pri/room/disable-nonexist $SET1
bash $BASEDIR/scripts/pri/room/enable-exist $SET1
bash $BASEDIR/scripts/pri/room/enable-nonexist $SET1
bash $BASEDIR/scripts/pri/room/del-exist $SET1
bash $BASEDIR/scripts/pri/room/del-nonexist $SET1

bash $BASEDIR/scripts/pri/room/add-new $SET1 10
bash $BASEDIR/scripts/pri/room/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/room/list-limit $SET1
bash $BASEDIR/scripts/pri/room/list-limit-offset $SET1
bash $BASEDIR/scripts/pri/room/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/room/list-invalid-post $SET1

bash $BASEDIR/scripts/pri/room/get-link-exist $SET1
bash $BASEDIR/scripts/pri/room/get-link-nonexist $SET1
bash $BASEDIR/scripts/pri/room/add-ephemeral $SET1 10

# meeting
bash $BASEDIR/scripts/pri/meeting/add-invalid-post $SET1
bash $BASEDIR/scripts/pri/meeting/add-new $SET1
bash $BASEDIR/scripts/pri/meeting/get-exist $SET1
bash $BASEDIR/scripts/pri/meeting/get-nonexist $SET1

bash $BASEDIR/scripts/pri/meeting/update-exist $SET1
bash $BASEDIR/scripts/pri/meeting/update-nonexist $SET1
bash $BASEDIR/scripts/pri/meeting/update-invalid-post $SET1
bash $BASEDIR/scripts/pri/meeting/disable-exist $SET1
bash $BASEDIR/scripts/pri/meeting/disable-nonexist $SET1
bash $BASEDIR/scripts/pri/meeting/enable-exist $SET1
bash $BASEDIR/scripts/pri/meeting/enable-nonexist $SET1
bash $BASEDIR/scripts/pri/meeting/del-exist $SET1
bash $BASEDIR/scripts/pri/meeting/del-nonexist $SET1

bash $BASEDIR/scripts/pri/meeting/add-new $SET1 10
bash $BASEDIR/scripts/pri/meeting/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/meeting/list-limit $SET1
bash $BASEDIR/scripts/pri/meeting/list-limit-offset $SET1
bash $BASEDIR/scripts/pri/meeting/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/meeting/list-invalid-post $SET1

bash $BASEDIR/scripts/pri/meeting/get-link-exist $SET1
bash $BASEDIR/scripts/pri/meeting/get-link-nonexist $SET1

# meeting-invite
bash $BASEDIR/scripts/pri/meeting-invite/add-invalid-post $SET1
bash $BASEDIR/scripts/pri/meeting-invite/add-new $SET1
bash $BASEDIR/scripts/pri/meeting-invite/get-exist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/get-nonexist $SET1

bash $BASEDIR/scripts/pri/meeting-invite/disable-exist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/disable-nonexist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/enable-exist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/enable-nonexist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/del-exist $SET1
bash $BASEDIR/scripts/pri/meeting-invite/del-nonexist $SET1

bash $BASEDIR/scripts/pri/meeting-invite/add-new $SET1 10
bash $BASEDIR/scripts/pri/meeting-invite/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/meeting-invite/list-limit $SET1
bash $BASEDIR/scripts/pri/meeting-invite/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/meeting-invite/list-invalid-post $SET1

# meeting-member
bash $BASEDIR/scripts/pri/meeting-member/add-byinvite-invalid-post $SET2
bash $BASEDIR/scripts/pri/meeting-member/add-byinvite-new $SET2 $SET1
bash $BASEDIR/scripts/pri/meeting-member/get-exist $SET2
bash $BASEDIR/scripts/pri/meeting-member/get-nonexist $SET2
bash $BASEDIR/scripts/pri/meeting-member/add-byinvite-exist $SET2

bash $BASEDIR/scripts/pri/meeting-member/update-exist $SET2
bash $BASEDIR/scripts/pri/meeting-member/update-nonexist $SET2
bash $BASEDIR/scripts/pri/meeting-member/del-exist $SET2
bash $BASEDIR/scripts/pri/meeting-member/del-nonexist $SET2

bash $BASEDIR/scripts/pri/meeting-member/add-byinvite-new $SET2 $SET1 10
bash $BASEDIR/scripts/pri/meeting-member/list-nolimit-nooffset $SET2
bash $BASEDIR/scripts/pri/meeting-member/list-limit $SET2
bash $BASEDIR/scripts/pri/meeting-member/list-limit-offset $SET2
bash $BASEDIR/scripts/pri/meeting-member/list-huge-offset $SET2
bash $BASEDIR/scripts/pri/meeting-member/list-invalid-post $SET2

# member
bash $BASEDIR/scripts/pri/member/get-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/get-nonexist $SET1

bash $BASEDIR/scripts/pri/member/list-nolimit-nooffset $SET1
bash $BASEDIR/scripts/pri/member/list-limit $SET1
bash $BASEDIR/scripts/pri/member/list-huge-offset $SET1
bash $BASEDIR/scripts/pri/member/list-invalid-post $SET1

bash $BASEDIR/scripts/pri/member/disable-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/disable-nonexist $SET1
bash $BASEDIR/scripts/pri/member/enable-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/enable-nonexist $SET1
bash $BASEDIR/scripts/pri/member/set-guest-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/set-guest-nonexist $SET1
bash $BASEDIR/scripts/pri/member/set-host-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/set-host-nonexist $SET1
bash $BASEDIR/scripts/pri/member/del-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/member/del-nonexist $SET1

# request
bash $BASEDIR/scripts/pri/meeting/add-new $SET1 1

bash $BASEDIR/scripts/pri/request/add-invalid-post $SET2
bash $BASEDIR/scripts/pri/request/add-new $SET2 $SET1
bash $BASEDIR/scripts/pri/request/get-exist $SET2
bash $BASEDIR/scripts/pri/request/get-nonexist $SET2
bash $BASEDIR/scripts/pri/request/add-exist $SET2
bash $BASEDIR/scripts/pri/request/add-exist-meeting-member $SET2

bash $BASEDIR/scripts/pri/request/update-exist $SET2
bash $BASEDIR/scripts/pri/request/update-nonexist $SET2
bash $BASEDIR/scripts/pri/request/update-invalid-post $SET2
bash $BASEDIR/scripts/pri/request/del-exist $SET2
bash $BASEDIR/scripts/pri/request/del-nonexist $SET2

bash $BASEDIR/scripts/pri/request/drop-nonexist $SET1
bash $BASEDIR/scripts/pri/request/add-new $SET2
bash $BASEDIR/scripts/pri/request/drop-exist $SET1 $SET2

bash $BASEDIR/scripts/pri/request/reject-nonexist $SET1
bash $BASEDIR/scripts/pri/request/add-new $SET2
bash $BASEDIR/scripts/pri/request/reject-exist $SET1 $SET2
bash $BASEDIR/scripts/pri/request/drop-exist $SET1 $SET2

bash $BASEDIR/scripts/pri/request/accept-nonexist $SET1
bash $BASEDIR/scripts/pri/request/add-new $SET2
bash $BASEDIR/scripts/pri/request/accept-exist $SET1 $SET2

bash $BASEDIR/scripts/pri/meeting/add-new $SET1 10

bash $BASEDIR/scripts/pri/request/add-new $SET2 $SET1 10
bash $BASEDIR/scripts/pri/request/list-nolimit-nooffset $SET2
bash $BASEDIR/scripts/pri/request/list-limit $SET2
bash $BASEDIR/scripts/pri/request/list-limit-offset $SET2
bash $BASEDIR/scripts/pri/request/list-huge-offset $SET2
bash $BASEDIR/scripts/pri/request/list-invalid-post $SET2

# ------------------------------------------------------------------------------
# pub
# ------------------------------------------------------------------------------
bash $BASEDIR/scripts/pub/hello

# domain
bash $BASEDIR/scripts/pub/domain/list-enabled-nolimit-nooffset
bash $BASEDIR/scripts/pub/domain/list-enabled-limit
bash $BASEDIR/scripts/pub/domain/list-enabled-huge-offset
bash $BASEDIR/scripts/pub/domain/list-enabled-invalid-post

# meeting
bash $BASEDIR/scripts/pub/meeting/get-exist
bash $BASEDIR/scripts/pub/meeting/get-nonexist
bash $BASEDIR/scripts/pub/meeting/list-enabled-nolimit-nooffset
bash $BASEDIR/scripts/pub/meeting/list-enabled-limit
bash $BASEDIR/scripts/pub/meeting/list-enabled-limit-offset
bash $BASEDIR/scripts/pub/meeting/list-enabled-huge-offset
bash $BASEDIR/scripts/pub/meeting/list-enabled-invalid-post

# ------------------------------------------------------------------------------
# completed
# ------------------------------------------------------------------------------
footer <<< completed successfully
