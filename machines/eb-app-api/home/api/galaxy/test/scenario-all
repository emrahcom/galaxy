#!/bin/bash
set -e

# ------------------------------------------------------------------------------
# environment
# ------------------------------------------------------------------------------
BASEDIR=$(dirname $0)
source $BASEDIR/config
source $BASEDIR/scripts/common

# ------------------------------------------------------------------------------
# kratos
# ------------------------------------------------------------------------------
for i in $(seq 1 10); do
    declare ID${i}=$i
    bash $BASEDIR/scripts/kratos/registration $i
    bash $BASEDIR/scripts/kratos/login $i
done

# ------------------------------------------------------------------------------
# adm
# ------------------------------------------------------------------------------
bash $BASEDIR/scripts/adm/hello

# ------------------------------------------------------------------------------
# pri
# ------------------------------------------------------------------------------
bash $BASEDIR/scripts/pri/hello $ID1

# profile
bash $BASEDIR/scripts/pri/profile/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/profile/add-new $ID1 1
bash $BASEDIR/scripts/pri/profile/get-exist $ID1
bash $BASEDIR/scripts/pri/profile/get-nonexist $ID1
bash $BASEDIR/scripts/pri/profile/get-default $ID1
bash $BASEDIR/scripts/pri/profile/add-exist $ID1

bash $BASEDIR/scripts/pri/profile/update-exist $ID1
bash $BASEDIR/scripts/pri/profile/update-nonexist $ID1
bash $BASEDIR/scripts/pri/profile/update-invalid-post $ID1
bash $BASEDIR/scripts/pri/profile/del-exist $ID1
bash $BASEDIR/scripts/pri/profile/del-nonexist $ID1

for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/profile/add-new $ID1 $i
done
bash $BASEDIR/scripts/pri/profile/set-default-exist $ID1
bash $BASEDIR/scripts/pri/profile/set-default-nonexist $ID1
bash $BASEDIR/scripts/pri/profile/list-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/profile/list-limit $ID1
bash $BASEDIR/scripts/pri/profile/list-limit-offset $ID1
bash $BASEDIR/scripts/pri/profile/list-huge-offset $ID1
bash $BASEDIR/scripts/pri/profile/list-invalid-post $ID1

bash $BASEDIR/scripts/pri/profile/add-new $ID2 1

# domain
bash $BASEDIR/scripts/pri/domain/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/domain/add-new $ID1 1
bash $BASEDIR/scripts/pri/domain/get-exist $ID1
bash $BASEDIR/scripts/pri/domain/get-nonexist $ID1
bash $BASEDIR/scripts/pri/domain/add-exist $ID1

bash $BASEDIR/scripts/pri/domain/update-exist $ID1
bash $BASEDIR/scripts/pri/domain/update-nonexist $ID1
bash $BASEDIR/scripts/pri/domain/update-invalid-post $ID1
bash $BASEDIR/scripts/pri/domain/disable-exist $ID1
bash $BASEDIR/scripts/pri/domain/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/domain/enable-exist $ID1
bash $BASEDIR/scripts/pri/domain/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/domain/del-exist $ID1
bash $BASEDIR/scripts/pri/domain/del-nonexist $ID1

for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/domain/add-new $ID1 $i
done
bash $BASEDIR/scripts/pri/domain/list-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/domain/list-limit $ID1
bash $BASEDIR/scripts/pri/domain/list-limit-offset $ID1
bash $BASEDIR/scripts/pri/domain/list-huge-offset $ID1
bash $BASEDIR/scripts/pri/domain/list-invalid-post $ID1

# domain-invite
bash $BASEDIR/scripts/pri/domain-invite/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/domain-invite/add-new $ID1 1
bash $BASEDIR/scripts/pri/domain-invite/get-exist $ID1
bash $BASEDIR/scripts/pri/domain-invite/get-nonexist $ID1
bash $BASEDIR/scripts/pri/domain-invite/get-bycode-exist $ID1
bash $BASEDIR/scripts/pri/domain-invite/get-bycode-nonexist $ID1

bash $BASEDIR/scripts/pri/domain-invite/disable-exist $ID1
bash $BASEDIR/scripts/pri/domain-invite/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/domain-invite/enable-exist $ID1
bash $BASEDIR/scripts/pri/domain-invite/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/domain-invite/del-exist $ID1
bash $BASEDIR/scripts/pri/domain-invite/del-nonexist $ID1

for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/domain-invite/add-new $ID1 $i
done
bash $BASEDIR/scripts/pri/domain-invite/list-bydomain-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/domain-invite/list-bydomain-limit $ID1
bash $BASEDIR/scripts/pri/domain-invite/list-bydomain-huge-offset $ID1
bash $BASEDIR/scripts/pri/domain-invite/list-bydomain-invalid-post $ID1

# domain-partnership
bash $BASEDIR/scripts/pri/domain-partnership/add-bycode-invalid-post $ID2
bash $BASEDIR/scripts/pri/domain-partnership/add-bycode-new $ID2 $ID1
bash $BASEDIR/scripts/pri/domain-partnership/get-exist $ID2
bash $BASEDIR/scripts/pri/domain-partnership/get-nonexist $ID2
bash $BASEDIR/scripts/pri/domain-partnership/add-bycode-exist $ID2

bash $BASEDIR/scripts/pri/domain-partnership/del-exist $ID2
bash $BASEDIR/scripts/pri/domain-partnership/del-nonexist $ID2

bash $BASEDIR/scripts/pri/domain-invite/enable-exist $ID1
for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/domain-partnership/add-bycode-new $ID2 $ID1 $i
done

# domain-partner
bash $BASEDIR/scripts/pri/domain-partner/get-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/domain-partner/get-nonexist $ID1

bash $BASEDIR/scripts/pri/domain-partner/disable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/domain-partner/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/domain-partner/enable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/domain-partner/enable-nonexist $ID1

bash $BASEDIR/scripts/pri/domain-partner/list-bydomain-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/domain-partner/list-bydomain-limit $ID1
bash $BASEDIR/scripts/pri/domain-partner/list-bydomain-huge-offset $ID1
bash $BASEDIR/scripts/pri/domain-partner/list-bydomain-invalid-post $ID1

bash $BASEDIR/scripts/pri/domain-partner/del-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/domain-partner/del-nonexist $ID1

# room
bash $BASEDIR/scripts/pri/room/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/room/add-new $ID1
bash $BASEDIR/scripts/pri/room/get-exist $ID1
bash $BASEDIR/scripts/pri/room/get-nonexist $ID1
bash $BASEDIR/scripts/pri/room/add-exist $ID1

bash $BASEDIR/scripts/pri/room/update-exist $ID1
bash $BASEDIR/scripts/pri/room/update-nonexist $ID1
bash $BASEDIR/scripts/pri/room/update-invalid-post $ID1
bash $BASEDIR/scripts/pri/room/disable-exist $ID1
bash $BASEDIR/scripts/pri/room/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/room/enable-exist $ID1
bash $BASEDIR/scripts/pri/room/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/room/del-exist $ID1
bash $BASEDIR/scripts/pri/room/del-nonexist $ID1

for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/room/add-new $ID1 $i
done
bash $BASEDIR/scripts/pri/room/list-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/room/list-limit $ID1
bash $BASEDIR/scripts/pri/room/list-limit-offset $ID1
bash $BASEDIR/scripts/pri/room/list-huge-offset $ID1
bash $BASEDIR/scripts/pri/room/list-invalid-post $ID1

bash $BASEDIR/scripts/pri/room/get-link-exist $ID1
bash $BASEDIR/scripts/pri/room/get-link-nonexist $ID1
for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/room/add-ephemeral $ID1 $i
done

# room-invite
bash $BASEDIR/scripts/pri/room-invite/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/room-invite/add-new $ID1
bash $BASEDIR/scripts/pri/room-invite/get-exist $ID1
bash $BASEDIR/scripts/pri/room-invite/get-nonexist $ID1
bash $BASEDIR/scripts/pri/room-invite/get-bycode-exist $ID1
bash $BASEDIR/scripts/pri/room-invite/get-bycode-nonexist $ID1

bash $BASEDIR/scripts/pri/room-invite/disable-exist $ID1
bash $BASEDIR/scripts/pri/room-invite/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/room-invite/enable-exist $ID1
bash $BASEDIR/scripts/pri/room-invite/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/room-invite/del-exist $ID1
bash $BASEDIR/scripts/pri/room-invite/del-nonexist $ID1

for i in $(seq 1 10); do
    bash $BASEDIR/scripts/pri/room-invite/add-new $ID1 $i
done
bash $BASEDIR/scripts/pri/room-invite/list-byroom-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/room-invite/list-byroom-limit $ID1
bash $BASEDIR/scripts/pri/room-invite/list-byroom-huge-offset $ID1
bash $BASEDIR/scripts/pri/room-invite/list-byroom-invalid-post $ID1

# room-partnership
bash $BASEDIR/scripts/pri/room-partnership/add-bycode-invalid-post $ID2
bash $BASEDIR/scripts/pri/room-partnership/add-bycode-new $ID2 $ID1
bash $BASEDIR/scripts/pri/room-partnership/get-exist $ID2
bash $BASEDIR/scripts/pri/room-partnership/get-nonexist $ID2
bash $BASEDIR/scripts/pri/room-partnership/add-bycode-exist $ID2

bash $BASEDIR/scripts/pri/room-partnership/del-exist $ID2
bash $BASEDIR/scripts/pri/room-partnership/del-nonexist $ID2

bash $BASEDIR/scripts/pri/room-invite/enable-exist $ID1
bash $BASEDIR/scripts/pri/room-partnership/add-bycode-new $ID2 $ID1 10

# room-partner
bash $BASEDIR/scripts/pri/room-partner/get-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/room-partner/get-nonexist $ID1

bash $BASEDIR/scripts/pri/room-partner/disable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/room-partner/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/room-partner/enable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/room-partner/enable-nonexist $ID1

bash $BASEDIR/scripts/pri/room-partner/list-byroom-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/room-partner/list-byroom-limit $ID1
bash $BASEDIR/scripts/pri/room-partner/list-byroom-huge-offset $ID1
bash $BASEDIR/scripts/pri/room-partner/list-byroom-invalid-post $ID1

bash $BASEDIR/scripts/pri/room-partner/del-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/room-partner/del-nonexist $ID1

# meeting
bash $BASEDIR/scripts/pri/meeting/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/meeting/add-new $ID1
bash $BASEDIR/scripts/pri/meeting/get-exist $ID1
bash $BASEDIR/scripts/pri/meeting/get-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting/update-exist $ID1
bash $BASEDIR/scripts/pri/meeting/update-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting/update-invalid-post $ID1
bash $BASEDIR/scripts/pri/meeting/disable-exist $ID1
bash $BASEDIR/scripts/pri/meeting/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting/enable-exist $ID1
bash $BASEDIR/scripts/pri/meeting/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting/del-exist $ID1
bash $BASEDIR/scripts/pri/meeting/del-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting/add-new $ID1 10
bash $BASEDIR/scripts/pri/meeting/list-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/meeting/list-limit $ID1
bash $BASEDIR/scripts/pri/meeting/list-limit-offset $ID1
bash $BASEDIR/scripts/pri/meeting/list-huge-offset $ID1
bash $BASEDIR/scripts/pri/meeting/list-invalid-post $ID1

bash $BASEDIR/scripts/pri/meeting/get-link-exist $ID1
bash $BASEDIR/scripts/pri/meeting/get-link-nonexist $ID1

# meeting-invite
bash $BASEDIR/scripts/pri/meeting-invite/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/meeting-invite/add-new-audience $ID1
bash $BASEDIR/scripts/pri/meeting-invite/add-new-member $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-exist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-bycode-exist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-bycode-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting-invite/disable-exist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/enable-exist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/del-exist $ID1
bash $BASEDIR/scripts/pri/meeting-invite/del-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting-invite/add-new-audience $ID1 10
bash $BASEDIR/scripts/pri/meeting-invite/add-new-member $ID1 10
bash $BASEDIR/scripts/pri/meeting-invite/list-bymeeting-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/meeting-invite/list-bymeeting-limit $ID1
bash $BASEDIR/scripts/pri/meeting-invite/list-bymeeting-huge-offset $ID1
bash $BASEDIR/scripts/pri/meeting-invite/list-bymeeting-invalid-post $ID1

# meeting-membership
bash $BASEDIR/scripts/pri/meeting-membership/add-bycode-invalid-post $ID2
bash $BASEDIR/scripts/pri/meeting-membership/add-bycode-new $ID2 $ID1
bash $BASEDIR/scripts/pri/meeting-membership/get-exist $ID2
bash $BASEDIR/scripts/pri/meeting-membership/get-nonexist $ID2
bash $BASEDIR/scripts/pri/meeting-membership/add-bycode-exist $ID2

bash $BASEDIR/scripts/pri/meeting-membership/update-exist $ID2
bash $BASEDIR/scripts/pri/meeting-membership/update-nonexist $ID2
bash $BASEDIR/scripts/pri/meeting-membership/del-exist $ID2
bash $BASEDIR/scripts/pri/meeting-membership/del-nonexist $ID2

bash $BASEDIR/scripts/pri/meeting-invite/add-new-member $ID1 10
bash $BASEDIR/scripts/pri/meeting-membership/add-bycode-new $ID2 $ID1 10

# meeting-member
bash $BASEDIR/scripts/pri/meeting-member/get-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/get-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting-member/list-bymeeting-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/meeting-member/list-bymeeting-limit $ID1
bash $BASEDIR/scripts/pri/meeting-member/list-bymeeting-huge-offset $ID1
bash $BASEDIR/scripts/pri/meeting-member/list-bymeeting-invalid-post $ID1

bash $BASEDIR/scripts/pri/meeting-member/disable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/disable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-member/enable-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/enable-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-member/set-guest-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/set-guest-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-member/set-host-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/set-host-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-member/del-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-member/del-nonexist $ID1

# meeting-request
bash $BASEDIR/scripts/pri/meeting/add-new $ID1 1

bash $BASEDIR/scripts/pri/meeting-request/add-invalid-post $ID2
bash $BASEDIR/scripts/pri/meeting-request/add-new $ID2 $ID1
bash $BASEDIR/scripts/pri/meeting-request/get-exist $ID2
bash $BASEDIR/scripts/pri/meeting-request/get-nonexist $ID2
bash $BASEDIR/scripts/pri/meeting-request/add-exist $ID2
bash $BASEDIR/scripts/pri/meeting-request/add-exist-meeting-member $ID2

bash $BASEDIR/scripts/pri/meeting-request/update-exist $ID2
bash $BASEDIR/scripts/pri/meeting-request/update-nonexist $ID2
bash $BASEDIR/scripts/pri/meeting-request/update-invalid-post $ID2
bash $BASEDIR/scripts/pri/meeting-request/del-exist $ID2
bash $BASEDIR/scripts/pri/meeting-request/del-nonexist $ID2

bash $BASEDIR/scripts/pri/meeting-request/drop-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-request/add-new $ID2
bash $BASEDIR/scripts/pri/meeting-request/drop-exist $ID1 $ID2

bash $BASEDIR/scripts/pri/meeting-request/reject-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-request/add-new $ID2
bash $BASEDIR/scripts/pri/meeting-request/reject-exist $ID1 $ID2
bash $BASEDIR/scripts/pri/meeting-request/drop-exist $ID1 $ID2

bash $BASEDIR/scripts/pri/meeting-request/accept-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-request/add-new $ID2
bash $BASEDIR/scripts/pri/meeting-request/accept-exist $ID1 $ID2

bash $BASEDIR/scripts/pri/meeting/add-new $ID1 10

bash $BASEDIR/scripts/pri/meeting-request/add-new $ID2 $ID1 10
bash $BASEDIR/scripts/pri/meeting-request/list-nolimit-nooffset $ID2
bash $BASEDIR/scripts/pri/meeting-request/list-limit $ID2
bash $BASEDIR/scripts/pri/meeting-request/list-limit-offset $ID2
bash $BASEDIR/scripts/pri/meeting-request/list-huge-offset $ID2
bash $BASEDIR/scripts/pri/meeting-request/list-invalid-post $ID2

# meeting-schedule
bash $BASEDIR/scripts/pri/meeting-schedule/add-invalid-post $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/add-new $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/get-exist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/get-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting-schedule/update-exist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/update-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/update-invalid-post $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/del-exist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/del-nonexist $ID1

bash $BASEDIR/scripts/pri/meeting-schedule/add-new $ID1 10
bash $BASEDIR/scripts/pri/meeting-schedule/list-bymeeting-nolimit-nooffset $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/list-bymeeting-limit $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/list-bymeeting-huge-offset $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/list-bymeeting-invalid-post $ID1

bash $BASEDIR/scripts/pri/meeting-schedule/get-bymeeting-exist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/get-bymeeting-nonexist $ID1
bash $BASEDIR/scripts/pri/meeting-schedule/get-bymembership-exist $ID2
bash $BASEDIR/scripts/pri/meeting-schedule/get-bymembership-nonexist $ID2

# meeting (stage 2)
bash $BASEDIR/scripts/pri/meeting/get-link-bymembership-exist $ID2
bash $BASEDIR/scripts/pri/meeting/get-link-bymembership-nonexist $ID2

# ------------------------------------------------------------------------------
# pub
# ------------------------------------------------------------------------------
bash $BASEDIR/scripts/pub/hello

# meeting
bash $BASEDIR/scripts/pub/meeting/get-exist
bash $BASEDIR/scripts/pub/meeting/get-nonexist

bash $BASEDIR/scripts/pri/meeting-invite/add-new-audience $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-exist $ID1
bash $BASEDIR/scripts/pub/meeting/get-link-bycode-exist
bash $BASEDIR/scripts/pub/meeting/get-link-bycode-nonexist

bash $BASEDIR/scripts/pub/meeting/list-nolimit-nooffset
bash $BASEDIR/scripts/pub/meeting/list-limit
bash $BASEDIR/scripts/pub/meeting/list-limit-offset
bash $BASEDIR/scripts/pub/meeting/list-huge-offset
bash $BASEDIR/scripts/pub/meeting/list-invalid-post

# meeting-schedule
bash $BASEDIR/scripts/pri/meeting-invite/add-new-audience $ID1
bash $BASEDIR/scripts/pri/meeting-invite/get-exist $ID1
bash $BASEDIR/scripts/pub/meeting-schedule/get-bycode-exist
bash $BASEDIR/scripts/pub/meeting-schedule/get-bycode-nonexist

# ------------------------------------------------------------------------------
# completed
# ------------------------------------------------------------------------------
footer <<< completed successfully
